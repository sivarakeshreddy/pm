(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72299,t=>{"use strict";var e=t.i(43476),i=t.i(71645);let n=(0,i.createContext)(void 0);function u({children:t}){let[u,a]=(0,i.useState)(!1),[r,s]=(0,i.useState)(null),[c,o]=(0,i.useState)(!0);async function l(){try{let t=await fetch("/api/auth/status",{credentials:"include"}),e=await t.json();a(e.authenticated),s(e.username||null)}catch{a(!1)}finally{o(!1)}}async function d(t,e){let i=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e}),credentials:"include"}),n=await i.json();return!!n.success&&(a(!0),s(n.username),!0)}async function h(){await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),a(!1),s(null)}return(0,i.useEffect)(()=>{l()},[]),(0,e.jsx)(n.Provider,{value:{authenticated:u,username:r,login:d,logout:h,loading:c},children:t})}function a(){let t=(0,i.useContext)(n);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}t.s(["AuthProvider",()=>u,"useAuth",()=>a])},44636,t=>{"use strict";var e=t.i(43476),i=t.i(72299);function n({children:t}){return(0,e.jsx)(i.AuthProvider,{children:t})}t.s(["Providers",()=>n])}]);